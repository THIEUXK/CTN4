@model CTN4_Data.Models.DB_CTN4.DanhMuc

@{
    ViewData["Title"] = "Create";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
<br />
<div class="centered-container">
    <div class="blurred-border">
        <div class="row">
            <div class="col-md-12">
                <h1>Thêm mới</h1>
                <h4>Danh mục</h4>
                <form asp-action="Create" onsubmit="return confirmSubmit();">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                    <div class="form-group">
                        <label asp-for="TenDanhMuc" class="control-label">Tên danh mục</label>
                        <input asp-for="TenDanhMuc" class="form-control" maxlength="50" />
                        <span asp-validation-for="TenDanhMuc" class="text-danger"></span>
                    </div>
                    <div class=" form-check">
                        <label class="form-check-label" style="font-weight: bold;">
                            <input class="form-check-input" asp-for="Is_detele" />Tình trạng
                        </label>
                    </div>
                    <br />
                    <div class="form-group">
                        <input type="submit" value="Thêm mới" class="btn btn-primary" />
                    </div>
                </form>
            </div>
            <div>

                <a asp-action="Index" style="color: black;">Quay về</a>
            </div>
        </div>

        <script>
            function confirmSubmit() {
                // Lấy tất cả các trường input cần kiểm tra
                var inputs = document.querySelectorAll('input[required], textarea[required], select[required]');

                // Kiểm tra từng trường xem đã được điền đầy đủ hay chưa
                for (var i = 0; i < inputs.length; i++) {
                    if (!inputs[i].checkValidity()) {
                        alert("Vui lòng điền đầy đủ thông tin.");
                        return false;
                    }
                }

                // Kiểm tra ModelState và xử lý thông báo lỗi
                var validationSummary = document.querySelector('[asp-validation-summary="ModelOnly"]');
                if (validationSummary) {
                    // Kiểm tra xem có thông báo lỗi nào hay không
                    var errorMessages = validationSummary.querySelectorAll('ul li');
                    if (errorMessages.length > 0) {
                        alert("Biểu mẫu chưa hợp lệ. Vui lòng kiểm tra lại thông tin.");
                        return false;
                    }
                }

                // Hiển thị hộp thoại xác nhận
                var result = confirm("Bạn có chắc muốn thêm mới danh mục này không?");
                return result;
            }
        </script>


        @*/////////giaodien*@
        <script>
            function displayFileName() {
                var fileInput = document.getElementById('file-upload');
                var fileNameDisplay = document.getElementById('file-name-display');

                if (fileInput.files.length > 0) {
                    fileNameDisplay.textContent = 'File đã chọn: ' + fileInput.files[0].name;
                } else {
                    fileNameDisplay.textContent = '';
                }
            }
        </script>
        <style>
            body {
                background-color: #f8f9fa;
                margin: 0;
                padding: 0;
            }

            .header {
                background-color: #343a40;
                color: white;
                padding: 10px;
            }

            .centered-container {
                display: flex;
                justify-content: center;
                align-items: center;
                margin-top: 50px;
            }

            .blurred-border {
                width: 100%;
                max-width: 800px;
                border: 1px solid rgba(0, 0, 0, 0.1);
                border-radius: 10px;
                padding: 20px;
                background: rgba(255, 255, 255, 0.8);
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .form-group {
                margin-bottom: 20px;
            }

                .form-group label {
                    display: block;
                    margin-bottom: 5px;
                    font-weight: bold;
                }

                .form-group input,
                .form-group select {
                    width: 100%;
                    padding: 8px;
                    box-sizing: border-box;
                }

                    .form-group input[type="submit"] {
                        width: auto;
                    }

            .custom-file-upload {
                border: 1px solid #ccc;
                display: inline-block;
                padding: 6px 12px;
                cursor: pointer;
            }

            #file-name-display {
                margin-top: 10px;
                font-style: italic;
            }

            a {
                color: black;
                text-decoration: none;
            }

                a:hover {
                    text-decoration: underline;
                }
        </style>
