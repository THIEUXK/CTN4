@model CTN4_Data.Models.DB_CTN4.DanhMuc

@{
    ViewData["Title"] = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}



<div>
    <a asp-action="Index">Back to List</a>
</div>
<div class="row">
    <div class="col-md-9">
        <br></br>
        <br></br>
       
      
        <h1>Chỉnh sửa</h1>

        <h4>Danh mục</h4>
        <hr />
        <div class="row">
            <div class="col-md-9">
                <form asp-action="Edit" onsubmit="return confirmSubmit();">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                   
                    <div class="form-group">
                        <label asp-for="TenDanhMuc" class="control-label">Tên danh mục</label>
                        <input asp-for="TenDanhMuc" class="form-control"
                               class="form-control"
                               required
                               maxlength="50"
                               oninput="validateTenSanPham(this)" />
                        <span asp-validation-for="TenDanhMuc" class="text-danger" id="tenSanPhamError"></span>
                    </div>
                    <div class="form-group form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" asp-for="Is_detele" /> Tình trạng
                        </label>
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Lưu" class="btn btn-primary" />
                    </div>
                    <h4>_________________________________________________</h4>
                    <a asp-action="Index" style="color: black;">Quay về</a>
                </form>
            </div>
        </div>

 
    </div>
</div>


<script>
    function confirmSubmit() {
        
        // Hiển thị hộp thoại xác nhận
        var result = confirm("Bạn có chắc muốn chỉnh sửa danh mục này không?");
        return result;
    }
    ///////////
    function validateTenSanPham(input) {
        var value = input.value.trim();
        var errorElement = document.getElementById('tenSanPhamError');

        // Kiểm tra không được để trống
        if (value === '') {
            errorElement.innerText = 'Không được để trống';
            return;
        }

        // Kiểm tra độ dài ít nhất 3 và tối đa 50 ký tự
        if (value.length > 50) {
            errorElement.innerText = 'Không quá 50 ký tự';
            return;
        }

        // Kiểm tra chỉ chấp nhận chữ cái tiếng Việt

        if (/[^a-zA-Zàáạảãăắằẵặẳâầấậẩẫóòọõỏôổồốộơờớợởỡéèẻẹẽêềếệểễíìịỉĩúùụủũưừứựửữýỳỷỵỹ]+$/.test(value)) {
            errorElement.innerText = 'Không chứa ký tự đặc biệt hoặc chứa số';
            return;
        }
        // Nếu tất cả các kiểm tra đều qua, xóa thông báo lỗi
        errorElement.innerText = '';
    }
</script>