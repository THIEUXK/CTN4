@model IEnumerable<CTN4_Data.Models.DanhGiaSanPham>
@*@model CTN4_Serv.ViewModel.ListDanhGiaView*@

@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
<br />
<br />
<br />
<h1>Duyệt đánh giá sản phẩm</h1>
<div class="dropdown me-1">
    <button type="button" class="btn btn-secondary dropdown-toggle">
        Duyệt đánh giá sản phẩm
    </button>
    <ul class="dropdown-menu">
        <li>
            <a class="dropdown-item" href="@Url.Action("Index")">Duyệt đánh giá sản phẩm </a>
        </li>
        <li>
            <a class="dropdown-item" href="@Url.Action("DanhGiaDaDuocDuyet")">Tất cả đánh giá đã được duyệt </a>
        </li>
        <li>
            <a class="dropdown-item" href="@Url.Action("DanhGiaDaXoa")">Đánh giá sản phẩm ẩn</a>
        </li>
    </ul>
</div>
<div class="row ">
    <div class="card">
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th>
                        Tên sản phẩm
                    </th>
                    <th>
                        Tên khách hàng
                    </th>

                    <th>
                        Số sao đánh giá
                    </th>


                    <th>
                        Thời gian tạo đánh giá
                    </th>
                    <th>
                        Lượt sửa đánh giá còn
                    </th>
                    <th>
                        Bình luận
                    </th>
                    <th>
                        Chức năng
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.SanPham.TenSanPham)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.KhachHang.TenDangNhap)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.SoSao)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ThoiGian)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SoSua)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BinhLuan)
                        </td>

                        @if (item.TrangThaiDuyet == false && item.Is_delete == true)
                        {
                            <td>
                                <button class="btn btn-primary">@Html.ActionLink("Duyệt", "DuyetDanhGia", new { id=item.Id },new { style = "color: white;text-decoration: none; "})</button>
                                <button class="btn btn-danger">@Html.ActionLink("Từ chối", "TuChoiDanhGia", new { id=item.Id },new { style = "color: white;text-decoration: none; "})</button>
                            </td>
                        }
                        @if (item.TrangThaiDuyet == true && item.Is_delete == true)
                        {
                            <td>
                                <button class="btn btn-danger">@Html.ActionLink("Xóa bình luận", "TuChoiDanhGia", new { id=item.Id },new { style = "color: white;text-decoration: none; ", onclick = "return confirmDelete();" }) </button>


                            </td>
                        }
                       
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<script>
    function confirmDelete() {
        var result = confirm("Bạn có chắc chắn muốn xóa bình luận này không?");
        return result;
    }
</script>
<style>
    /* Thêm điều chỉnh tùy chỉnh nếu cần thiết */
    table {
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
    }

    th, td {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        border: 1px solid #dee2e6; /* Đường viền của ô */
        padding: 10px;
    }
    /* Đường kẻ giữa các ô */
    table.table-bordered {
        border: 1px solid #dee2e6;
    }

        /* Đường kẻ giữa các dòng */
        table.table-bordered tbody tr {
            border: 1px solid #dee2e6;
        }

    .link-styling {
        text-decoration: underline;
        color: black;
    }
</style>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>